<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title layout:fragment="pageTitle">Trang ch·ªß | GodendLand</title>
</head>

<body>
<main layout:fragment="content" class="page-wrapper">
	<!-- Chat FAB: g√≥c ph·∫£i-d∆∞·ªõi -->
    <style>
        #chat-fab{
            position: fixed;
            right: calc(16px + env(safe-area-inset-right));   /* <-- g√≥c ph·∫£i */
            bottom: calc(16px + env(safe-area-inset-bottom)); /* s√°t ƒë√°y */
            width: 64px; height: 64px;
            border: none; border-radius: 9999px;
            background: #10b981;
            box-shadow: 0 8px 24px rgba(0,0,0,.15);
            cursor: pointer; z-index: 2147483000;
            display: grid; place-items: center;
            padding: 12px;
            transition: transform .12s ease, box-shadow .12s ease;
        }
        #chat-fab:hover { transform: translateY(-2px); box-shadow: 0 12px 28px rgba(0,0,0,.22); }
        #chat-fab img { max-width: 100%; max-height: 100%; display: block; filter: brightness(0) invert(1); }
        @media (max-width: 480px){
            #chat-fab{ width:56px; height:56px; padding:10px; }
        }
    </style>

    <!-- N√∫t chat n·ªïi: click -> ƒëi·ªÅu h∆∞·ªõng sang trang chat -->
    <button id="chat-fab" aria-label="M·ªü chat" title="Chat v·ªõi nh√¢n vi√™n">
        <img th:src="@{/images/chat.png}" alt="Chat">
    </button>

    <script>
        document.getElementById('chat-fab').addEventListener('click', function () {
            // Customer: m·ªü trang chat m·∫∑c ƒë·ªãnh
            window.location.href = '/chat';

            // N·∫øu mu·ªën staff m·ªü th·∫≥ng 1 ph√≤ng c·ª• th·ªÉ, d√πng:
            // window.location.href = '/chat?room=2_101'; // v√≠ d·ª• room <staffId>_<customerId>
        });
    </script>
    <!-- SLIDESHOW -->
    <section id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-indicators">
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2"></button>
        </div>

        <div class="carousel-inner">
            <div class="carousel-item active">
                <img th:src="@{/images/hinhnen1.jpg}"
                     class="d-block w-100" alt="Slide 1">
            </div>
            <div class="carousel-item">
                <img th:src="@{https://media.tapchitaichinh.vn/images/upload/hoangthuviet/04202019/bat-dong-san.jpg}"
                     class="d-block w-100" alt="Slide 2">
            </div>
            <div class="carousel-item">
                <img th:src="@{https://richnguyen.vn/wp-content/uploads/2020/08/buc-anh-bat-dong-san-dep-2.jpg}"
                     class="d-block w-100" alt="Slide 3">
            </div>
        </div>
    </section>
    <!-- N√öT ƒêƒÇNG TIN -->
	<div class="container my-4 text-end">
	    <!-- N·∫øu ng∆∞·ªùi d√πng ƒë√£ ƒëƒÉng nh·∫≠p -->
		<a sec:authorize="isAuthenticated()"
		   th:href="@{/web/building-create}"
		   class="btn btn-success fw-bold">
		    <i class="fa-solid fa-plus me-1"></i> ƒêƒÉng tin
		</a>
		
		<!-- N·∫øu ng∆∞·ªùi d√πng ch∆∞a ƒëƒÉng nh·∫≠p -->
		<button sec:authorize="isAnonymous()"
		        class="btn btn-success fw-bold"
		        onclick="window.location.href='/login'">
		    <i class="fa-solid fa-plus me-1"></i> ƒêƒÉng tin
		</button>

	</div>
    

    <!-- FORM T√åM KI·∫æM -->
    <section class="search bg-light py-4 border-top border-bottom">
        <div class="container">
            <form class="row g-3 align-items-end" th:action="@{/san-pham}" method="get">
                <div class="col-md-3">
                    <label class="fw-bold mb-1">T·ªânh/Th√†nh ph·ªë</label>
                    <select class="form-select" name="city">
                        <option value="">-- Ch·ªçn t·ªânh/th√†nh ph·ªë --</option>
                        <option>TP. H√† N·ªôi</option>
                        <option>TP. H·ªì Ch√≠ Minh</option>
                        <option>TP. ƒê√† N·∫µng</option>
                    </select>
                </div>

                <div class="col-md-3">
                    <label class="fw-bold mb-1">Qu·∫≠n/Huy·ªán</label>
                    <select class="form-select" name="district">
                        <option value="">-- Ch·ªçn qu·∫≠n/huy·ªán --</option>
                        <option th:each="d : ${districts}" th:value="${d.key}" th:text="${d.value}"></option>
                    </select>
                </div>

                <div class="col-md-3">
                    <label class="fw-bold mb-1">Lo·∫°i b·∫•t ƒë·ªông s·∫£n</label>
                    <select class="form-select" name="type">
                        <option value="">-- Ch·ªçn lo·∫°i BƒêS --</option>
                        <option>Nguy√™n CƒÉn</option>
                        <option>N·ªôi Th·∫•t</option>
                        <option>T·∫ßng Tr·ªát</option>
                    </select>
                </div>

                <div class="col-md-3">
                    <button class="btn btn-success w-100">
                        <i class="fa-solid fa-magnifying-glass me-1"></i> T√¨m ki·∫øm nhanh
                    </button>
                </div>
            </form>
        </div>
    </section>

    <!-- D·ª∞ √ÅN BƒêS N·ªîI B·∫¨T - D√ôNG RI√äNG CHO TRANG CH·ª¶ -->
	<section class="content py-5">
	  <div class="text-center mb-4">
	    <h2 class="fw-bold text-success">D·ª± √°n BƒêS n·ªïi b·∫≠t</h2>
	    <p class="text-muted">T·ªïng h·ª£p c√°c BƒêS hot hi·ªán t·∫°i</p>
	  </div>
	
	  <div class="container">
	    <div class="row g-4" th:if="${featuredBuildings != null and !#lists.isEmpty(featuredBuildings)}">
	      <div class="col-md-4" th:each="b : ${featuredBuildings}">
	        <div class="card border-0 shadow-sm h-100">
	          <!-- üñºÔ∏è ·∫¢nh -->
	          <div class="card-img-top d-flex align-items-center justify-content-center bg-light" style="height: 200px;">
	            <img th:if="${b.imageUrl != null}"
	                 th:src="${b.imageUrl}"
	                 alt="·∫¢nh t√≤a nh√†"
	                 style="width:100%; height:100%; object-fit:contain; object-position:center;">
	          </div>
	
	          <div class="card-body">
	            <h5 class="card-title fw-bold" th:text="${b.name}">T√™n t√≤a nh√†</h5>
	            <p class="text-muted mb-2">
	              <i class="fa-solid fa-location-dot text-success me-1"></i>
	              <a th:href="@{https://www.google.com/maps/search/?api=1&query={q}(q=${b.address})}"
	                 class="text-decoration-none" target="_blank" rel="noopener"
	                 th:text="${b.address}">ƒê·ªãa ch·ªâ</a>
	            </p>
	
	            <!-- N√∫t m·ªü Google Maps -->
	            <a th:href="@{https://www.google.com/maps/search/?api=1&query={q}(q=${b.address})}"
	               class="btn btn-outline-success btn-sm mb-3" target="_blank" rel="noopener">
	              <i class="fa-solid fa-map-location-dot me-1"></i> Xem tr√™n Google Maps
	            </a>
	
	            <ul class="list-unstyled small mb-3">
	              <li>üìê Di·ªán t√≠ch s√†n: <span th:text="${b.floorArea} + ' m¬≤'">-- m¬≤</span></li>
	              <li>üìû Qu·∫£n l√Ω: <span th:text="${b.managerName}">--</span> (<span th:text="${b.managerPhone}">--</span>)</li>
	              <li>üí∞ Gi√° thu√™: <span th:text="${b.rentPrice}">--</span> tri·ªáu</li>
	            </ul>
	
	            <div class="d-grid gap-2 mt-3">
	              <a th:href="@{'/chi-tiet-toa-nha/' + ${b.id}}"
	                 class="btn btn-outline-success fw-bold">
	                üëÅÔ∏è Xem chi ti·∫øt
	              </a>
	              <button type="button"
	                      class="btn btn-success fw-bold"
	                      th:attr="data-id=${b.id}, data-name=${b.name}, data-price=${b.rentPrice}"
	                      onclick="payDeposit(this)">
	                üí∞ ƒê·∫∑t c·ªçc ngay
	              </button>
	            </div>
	          </div>
	        </div>
	      </div>
	    </div>
	
	    <!-- Fallback khi ch∆∞a c√≥ d·ªØ li·ªáu -->
	    <div class="text-center text-muted" th:if="${featuredBuildings == null or #lists.isEmpty(featuredBuildings)}">
	      Ch∆∞a c√≥ t√≤a n·ªïi b·∫≠t ƒë·ªÉ hi·ªÉn th·ªã.
	    </div>
	  </div>
	</section>
	
	<style>
	/* üåü Hi·ªáu ·ª©ng cao c·∫•p cho ·∫£nh trong card BƒêS */
	.card {
	  border: none;
	  border-radius: 12px;
	  overflow: hidden;
	  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
	  transition: transform 0.3s ease, box-shadow 0.3s ease;
	  background-color: #fff;
	}
	
	/* Khi r√™ chu·ªôt v√†o to√†n card ‚Äì n·ªïi nh·∫π v√† ƒë·ªï b√≥ng */
	.card:hover {
	  transform: translateY(-6px);
	  box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
	}
	
	/* Khung ch·ª©a ·∫£nh ‚Äì ·∫©n ph·∫ßn ph√≥ng to v∆∞·ª£t ra ngo√†i */
	.card .card-img-top {
	  overflow: hidden;
	  height: 220px; /* tƒÉng nh·∫π chi·ªÅu cao ·∫£nh */
	  position: relative;
	  border-radius: 10px 10px 0 0;
	}
	
	/* ·∫¢nh b√™n trong */
	.card .card-img-top img {
	  width: 100%;
	  height: 100%;
	  object-fit: cover;
	  object-position: center;
	  transition: transform 0.7s cubic-bezier(0.25, 0.8, 0.25, 1),
	              filter 0.5s ease;
	  will-change: transform, filter;
	  filter: brightness(0.92);
	}
	
	/* üß≤ Khi hover: ph√≥ng to, tƒÉng s√°ng, th√™m chi·ªÅu s√¢u */
	.card:hover .card-img-top img {
	  transform: scale(1.18); /* ph√≥ng to 18% */
	  filter: brightness(1.05) saturate(1.1);
	}
	
	/* ‚ú® Th√™m hi·ªáu ·ª©ng s√°ng vi·ªÅn nh·∫π khi hover */
	.card:hover::after {
	  content: "";
	  position: absolute;
	  inset: 0;
	  border-radius: 12px;
	  box-shadow: 0 0 25px rgba(16, 185, 129, 0.3);
	  pointer-events: none;
	  opacity: 1;
	  transition: opacity 0.4s ease;
	}
	
	/* üîπ ƒê·∫£m b·∫£o m∆∞·ª£t v√† th√¢n thi·ªán v·ªõi ng∆∞·ªùi d√πng */
	@media (prefers-reduced-motion: reduce) {
	  .card,
	  .card img {
	    transition: none !important;
	  }
	}
	</style>



	
	<!-- üîπ Banner G√≥i Tin S√†i G√≤n 1K/ng√†y -->
	<section class="container my-5">
	    <a href="https://batdongsan.com.vn/nguoi-ban/promote-goi-tin-sai-gon-1k"
	       target="_blank"
	       class="goi-tin-1k d-block text-center">
	        <img src="https://res.cloudinary.com/dnbxsm1mx/image/upload/v1761480081/Screenshot_2025-10-26_190106_bdasbl.png"
	             alt="G√≥i Tin S√†i G√≤n 1K/ng√†y"
	             class="banner-1k img-fluid rounded shadow-sm" />
	    </a>
	</section>
	
	<style>
	.goi-tin-1k {
	  transition: transform 0.25s ease, box-shadow 0.25s ease;
	}
	.goi-tin-1k:hover {
	  transform: scale(1.02);
	  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.15);
	}
	.banner-1k {
	  width: 100%;
	  height: auto;
	  border-radius: 10px;
	  max-width: 1200px;
	}
	@media (max-width: 768px) {
	  .banner-1k {
	    border-radius: 6px;
	  }
	}
	</style>
	
	<!-- üèôÔ∏è B·∫§T ƒê·ªòNG S·∫¢N THEO ƒê·ªäA ƒêI·ªÇM -->
	<section class="container my-5">
	    <div class="text-center mb-4">
	        <h2 class="fw-bold text-success">B·∫•t ƒë·ªông s·∫£n theo ƒë·ªãa ƒëi·ªÉm</h2>
	        <p class="text-muted">Kh√°m ph√° c√°c t√≤a nh√† n·ªïi b·∫≠t t·∫°i c√°c th√†nh ph·ªë l·ªõn</p>
	    </div>
	
	    <div class="row g-4">
	        <!-- TP.HCM -->
	        <div class="col-md-6 col-lg-4">
	            <a href="/building?city=HCM" class="city-card d-block position-relative">
	                <img src="https://res.cloudinary.com/dnbxsm1mx/image/upload/v1761480756/hinh-anh-thanh-pho-ho-chi-minh-ve-dem_031033761_vrbeh1.jpg"
	                     alt="TP. H·ªì Ch√≠ Minh" class="city-img rounded-3">
	                <div class="city-overlay rounded-3">
	                    <h4>TP. H·ªì Ch√≠ Minh</h4>
	                    <p>83.998 t√≤a nh√†</p>
	                </div>
	            </a>
	        </div>
	
	        <!-- H√† N·ªôi -->
	        <div class="col-md-6 col-lg-4">
	            <a href="/building?city=HN" class="city-card d-block position-relative">
	                <img src="https://res.cloudinary.com/dnbxsm1mx/image/upload/v1761480727/hinh-anh-ha-noi-view-tu-tren-cao_112952128_anoi47.jpg"
	                     alt="H√† N·ªôi" class="city-img rounded-3">
	                <div class="city-overlay rounded-3">
	                    <h4>H√† N·ªôi</h4>
	                    <p>58.349 t√≤a nh√†</p>
	                </div>
	            </a>
	        </div>
	
	        <!-- ƒê√† N·∫µng -->
	        <div class="col-md-6 col-lg-4">
	            <a href="/building?city=DN" class="city-card d-block position-relative">
	                <img src="https://res.cloudinary.com/dnbxsm1mx/image/upload/v1761480741/hinh-anh-thanh-pho-da-nang_ch9avp.jpg"
	                     alt="ƒê√† N·∫µng" class="city-img rounded-3">
	                <div class="city-overlay rounded-3">
	                    <h4>ƒê√† N·∫µng</h4>
	                    <p>9.040 t√≤a nh√†</p>
	                </div>
	            </a>
	        </div>
	    </div>
	</section>
	
	<!-- üé® CSS -->
	<style>
	.city-card {
	  overflow: hidden;
	  border-radius: 12px;
	  position: relative;
	  transition: transform 0.4s ease;
	}
	.city-card:hover {
	  transform: scale(1.02);
	}
	.city-img {
	  width: 100%;
	  height: 260px;
	  object-fit: cover;
	  filter: brightness(80%);
	  transition: filter 0.4s ease;
	}
	.city-card:hover .city-img {
	  filter: brightness(95%);
	}
	.city-overlay {
	  position: absolute;
	  bottom: 0;
	  left: 0;
	  width: 100%;
	  padding: 20px;
	  background: linear-gradient(to top, rgba(0, 0, 0, 0.6), transparent);
	  color: #fff;
	}
	.city-overlay h4 {
	  font-size: 1.25rem;
	  font-weight: 700;
	  margin: 0;
	}
	.city-overlay p {
	  margin: 0;
	  font-weight: 500;
	  font-size: 0.95rem;
	}
	</style>
	
	
	<!-- üìã K·∫æT QU·∫¢ T√åM KI·∫æM NHANH -->
	<section th:if="${projects != null}" class="product py-5 border-top">
	    <div class="container">
	        <h2 class="fw-bold text-success mb-4 text-center">K·∫øt qu·∫£ t√¨m ki·∫øm</h2>
	
	        <div class="row g-4" th:if="${!#lists.isEmpty(projects)}">
	            <div class="col-md-4" th:each="b : ${projects}">
	                <div class="card border-0 shadow-sm h-100">
	                    <div class="card-img-top d-flex align-items-center justify-content-center bg-light" style="height: 200px;">
	                        <img th:if="${b.imageUrl != null}"
	                             th:src="${b.imageUrl}"
	                             alt="·∫¢nh t√≤a nh√†"
	                             style="width:100%; height:100%; object-fit:cover; object-position:center;">
	                    </div>
	
	                    <div class="card-body">
	                        <h5 class="card-title fw-bold" th:text="${b.name}">Sky Tower</h5>
	                        <p class="text-muted mb-2">
	                            <i class="fa-solid fa-location-dot text-success me-1"></i>
	                            <a th:href="@{https://www.google.com/maps/search/?api=1&query={q}(q=${b.address})}"
	                               class="text-decoration-none"
	                               target="_blank" rel="noopener"
	                               th:text="${b.address}">123 Nguy·ªÖn Hu·ªá</a>
	                        </p>
	
	                        <ul class="list-unstyled small mb-3">
	                            <li>üìê Di·ªán t√≠ch s√†n: <span th:text="${b.floorArea} + ' m¬≤'">200 m¬≤</span></li>
	                            <li>üè¢ S·ªë t·∫ßng h·∫ßm: <span th:text="${b.numberOfBasement}">2</span></li>
	                            <li>üìû Qu·∫£n l√Ω: <span th:text="${b.managerName}">Nguy·ªÖn VƒÉn A</span> (<span th:text="${b.managerPhone}">0909123456</span>)</li>
	                            <li>üí∞ Gi√° thu√™: <span th:text="${b.rentPrice}">25</span> tri·ªáu</li>
	                            <li>üßæ Ph√≠ d·ªãch v·ª•: <span th:text="${b.serviceFee}">Mi·ªÖn ph√≠</span></li>
	                        </ul>
	                        <div class="d-grid mt-3">
	                            <button type="button"
	                                    class="btn btn-success fw-bold"
	                                    th:attr="data-id=${b.id}, data-name=${b.name}, data-price=${b.rentPrice}"
	                                    onclick="payDeposit(this)">
	                                üí∞ ƒê·∫∑t c·ªçc ngay
	                            </button>
	                        </div>
	                    </div>
	                </div>
	            </div>
	        </div>
	
	        <div th:if="${#lists.isEmpty(projects)}" class="text-center mt-5 text-muted">
	            <i class="fa-solid fa-box-open fa-2x mb-3"></i>
	            <p>Kh√¥ng t√¨m th·∫•y t√≤a nh√† ph√π h·ª£p.</p>
	        </div>
	    </div>
	</section>
	
    

    <!-- V√å SAO CH·ªåN SKYLAND -->
    <section class="py-5 bg-light border-top border-bottom">
        <div class="container text-center">
            <h2 class="fw-bold mb-3">V√¨ sao ch·ªçn GodendLand?</h2>
            <p class="text-muted mb-5">Ch√∫ng t√¥i cung c·∫•p th√¥ng tin v√† t∆∞ v·∫•n BƒêS nhanh ch√≥ng, ch√≠nh x√°c v√† uy t√≠n nh·∫•t.</p>

            <div class="row g-4 justify-content-center" th:each="reason : ${reasons}">
                <div class="col-md-4">
                    <img th:src="${reason.icon}" alt="Icon" class="mb-3" style="width:64px;">
                    <h5 th:text="${reason.title}" class="fw-bold"></h5>
                    <p th:text="${reason.description}" class="text-muted"></p>
                </div>
            </div>
        </div>
    </section>

    <!-- ƒêƒÇNG K√ù NH·∫¨N TIN -->
    <section class="py-5 text-center">
        <div class="container">
            <h2 class="fw-bold text-success">Nh·∫≠n th√¥ng tin nh√† ƒë·∫•t mi·ªÖn ph√≠</h2>
            <p class="text-muted mb-4">C·∫≠p nh·∫≠t h∆°n 1.000.000 th√¥ng tin giao d·ªãch m·ªói th√°ng t·∫°i 63 t·ªânh th√†nh.</p>
            <form class="d-flex justify-content-center gap-2 flex-wrap">
                <input type="email" class="form-control w-50" placeholder="Nh·∫≠p email c·ªßa b·∫°n..." required>
                <button type="submit" class="btn btn-success">ƒêƒÉng k√Ω</button>
            </form>
        </div>
    </section>

    <!-- TH∆Ø∆†NG HI·ªÜU -->
    <section class="brand border-top py-4 bg-light">
        <div class="container text-center">
            <div class="d-flex justify-content-evenly flex-wrap gap-3">
                <img th:each="b : ${brands}" th:src="${b}" alt="brand" style="height:40px;">
            </div>
        </div>
    </section>

</main>
</body>
</html>
